!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.CollectionPathHelper=r():t.CollectionPathHelper=r()}("undefined"!=typeof self?self:this,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var a in t)e.d(n,a,function(r){return t[r]}.bind(null,a));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=13)}([function(t,r,e){var n=e(7)(Object,"create");t.exports=n},function(t,r,e){var n=e(11);t.exports=function(t,r){for(var e=t.length;e--;)if(n(t[e][0],r))return e;return-1}},function(t,r,e){var n=e(49);t.exports=function(t,r){var e=t.__data__;return n(r)?e["string"==typeof r?"string":"hash"]:e.map}},function(t,r){var e=Array.isArray;t.exports=e},function(t,r,e){var n=e(10),a=e(23);t.exports=function(t){return"symbol"==typeof t||a(t)&&"[object Symbol]"==n(t)}},function(t,r,e){var n=e(6).Symbol;t.exports=n},function(t,r,e){var n=e(19),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();t.exports=o},function(t,r,e){var n=e(31),a=e(36);t.exports=function(t,r){var e=a(t,r);return n(e)?e:void 0}},function(t,r){t.exports=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)}},function(t,r,e){var n=e(3),a=e(18),o=e(24),i=e(53);t.exports=function(t,r){return n(t)?t:a(t,r)?[t]:o(i(t))}},function(t,r,e){var n=e(5),a=e(21),o=e(22),i=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?a(t):o(t)}},function(t,r){t.exports=function(t,r){return t===r||t!=t&&r!=r}},function(t,r,e){var n=e(4);t.exports=function(t){if("string"==typeof t||n(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},function(t,r,e){"use strict";var n=e(14)(e(15));function a(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,n)}return e}function o(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?a(e,!0).forEach(function(r){(0,n.default)(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):a(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}const i=e(16),s=e(56);class u{static objectIsRegExp(t){return"object"==typeof t&&null!==t&&!!t.constructor&&"RegExp"===t.constructor.name}static stringStartsWith(t,r){if("string"==typeof(r=o({},{failWithMsg:!1,path:"property",validator:"stringStartsWith",varName:"property"},{},r)).needle||r.needle instanceof String){if(!t.startsWith(r.needle))return!1}else{if(!u.objectIsRegExp(r.needle))return!1;if(!r.needle.test(t))return!1}return!0}static getRemainingString(t,r){if(r=o({},{discardedStrings:[""],global:!1},{},r),"string"==typeof t||t instanceof String)for(let e=0;e<r.discardedStrings.length;e++)t=r.global?t.split(r.discardedStrings[e]).join(""):t.replace(r.discardedStrings[e],"");return t}static getStartType(t){var r;return("string"==typeof t||t instanceof String)&&t.length>0?"["===t[0]&&(r=t.indexOf("]",1))>-1&&-1==t.substring(0,r).indexOf(",",2)?"array":"object":"unknown"}static explodePath(t){return Array.isArray(t)?t:t.split(".").reduce((t,r)=>{for(var e;-1!==(e=r.indexOf("[",1));){var n=r.slice(0,e);t.push(n),r=u.getRemainingString(r,{discardedStrings:[n]})}return t.push(r),t},[]).reduce((t,r)=>(r.slice(1)&&t.push(r),t),[])}static implodePath(t){return t.reduce((t,r)=>{switch(u.getStartType(r)){case"object":t=""===t?`${t}${r}`:`${t}.${r}`;break;case"array":t=`${t}${r}`}return t},"")}static removePathLevels(t,r){let e;return e=(r=o({},{count:1,termination:"end",pathIsString:"string"==typeof t||t instanceof String},{},r)).pathIsString&&t.length>0?u.explodePath(t):t,"end"===r.termination?e.splice(e.length-r.count,r.count):"start"===r.termination&&e.splice(0,r.count),r.pathIsString&&t.length>0?u.implodePath(e):e}static getFirstDynamicVariableName(t){let r=new RegExp(/[^{{\}\}]+(?=\}\})/);return t.match(r)[0]}static isPathStartDynamic(t){return[0,1].includes(t.indexOf("{"))}static get(t){if(!(("string"==typeof t.path||t.path instanceof String)&&t.path.length>0||Array.isArray(t.path)&&t.path.length>0))return t.collection;("string"==typeof t.path||t.path instanceof String)&&t.path.startsWith(".")&&(t.path=t.path.replace(".",""));let r=i(t.collection,t.path,t.default);if(r===t.default){t.path=u.explodePath(t.path);for(let r=0;r<t.path.length;r++)u.getStartType(t.path[r])&&(t.path[r]=u.extractFromArrayNotation(t.path[r]));r=i(t.collection,t.path,t.default)}return r}static set(t,r){if(t=o({},{data:null,path:"",value:null,mode:"lodash",ignoreRootPath:!1,filling:null},{},t),void 0===r&&(r={data:t.data}),"precise"!==t.mode)return s(t.data,t.path,t.value);{t.path=u.explodePath(t.path);let e="";for(let n=0;n<t.path.length;n++){if("array"===u.getStartType(t.path[n])?(e=u.extractFromArrayNotation(t.path[n]),Array.isArray(r.data)||(r.data=[])):"object"===u.getStartType(t.path[n])&&(e=t.path[n],Array.isArray(r.data)||(r.data={})),console.log("bla"),n===t.path.length-1)return r.data[e]=t.value,t.data;u.set(t,{data:r.data[e]})}}}static getSubPaths(t,r){r=o({},{ignoreRoot:!1,ignoreFull:!1},{},r);let e=[];return"string"==typeof t||t instanceof String?(r.ignoreRoot||e.push(""),u.explodePath(t).reduce((t,r)=>(t.push(r),e.push(u.implodePath(t)),t),[]),e.length>0&&r.ignoreFull&&e.pop(),e):e}static replacePathArraysWithString(t,r){return r=o({},{string:""},{},r),u.implodePath(u.explodePath(t).map(t=>"array"===u.getStartType(t)?r.string:t))}static filterOutPath(t){let r=(t=o({},{path:"",foArrayNotations:!1,foObjectNotations:!1,foIntervalNotations:!1,foInitialDot:!1},{},t)).path;return t.foArrayPath&&(r=r.replace(/\s*\[.*?\]\s*/gm,"")),t.foObjectPath&&(r=r.replace(/[a-zA-Z.]+/gm,"")),t.foInitialDot&&r.startsWith(".")&&(r=r.replace(".","")),r}static getVarName(t,r){return`${(r=o({},{prefix:[]},{},r)).prefix}${t}`}static extractFromArrayNotation(t,r){if(r=o({},{},{},r),!("string"==typeof t||t instanceof String))return t;var e=/^\[([^,]{1,})\]$/g.exec(t);return null!==e&&void 0!==e[1]?!isNaN(parseFloat(e[1]))&&isFinite(e[1])?Number(e[1]):e[1]:t}static isPathItr(t){return/^([\[|\.]?itr\d*[\]]?)$/g.test(t)}static getPathIterators(t){return"string"==typeof(t=o({},{path:"",returnArray:!1},{},t)).path||t.path instanceof String?t.returnArray?this.explodePath(t.path).reduce((t,r,e,n)=>{let a="array"===this.getStartType(r)?r.slice(1,r.length-1):r;return u.isPathItr(a)&&(a="__iterator__"),t.push({level:e,varName:this.getVarName(e,{prefix:"itr"}),NPath:this.implodePath(n.slice(0,e+1)),value:isFinite(a)?Number(a):a}),t},[]):this.explodePath(t.path).reduce((t,r,e)=>{let n="array"===this.getStartType(r)?r.slice(1,r.length-1):r;return u.isPathItr(n)&&(n="__iterator__"),t[this.getVarName(e,{prefix:"itr"})]=isFinite(n)?Number(n):n,t},{}):t.returnArray?[]:{}}static getPathSignature(t){(t=o({},{getPathAsString:!1,getPathAsArray:!1,arrayNotation:"iterator"},{},t)).pathIsString="string"==typeof t.path||t.path instanceof String;let r,e={length:0,objects:0,arrays:0,schema:[],objProps:[]};if((t.getPathAsString&&!0===t.getPathAsString||t.getPathAsArray&&!0===t.getPathAsArray)&&(e.path=[]),t.pathIsString&&t.path.length>0)r=u.explodePath(t.path);else{if(!Array.isArray(t.path))return e;r=t.path}e.length=r.length;for(let n=0;n<r.length;n++)"object"===u.getStartType(r[n])?(e.objects+=1,e.schema.push("object"),e.objProps.push(r[n]),e.path&&e.path.push(r[n])):(e.arrays+=1,e.schema.push("array"),e.path&&("iterator"===t.arrayNotation?e.path.push(`[itr${n}]`):"actual"===t.arrayNotation?e.path.push(r[n]):e.path.push(`[${t.arrayNotation}]`)));return e.path&&(!0===t.getPathAsString?e.stringPath=u.implodePath(e.path):e.arrayPath=e.path,delete e.path),e}static isSubPath(t){if("string"==typeof t.subpath||t.subpath instanceof String)t.subpath=u.getPathIterators({path:t.subpath});else if(null===t.subpath||"object"!=typeof t.subpath||Array.isArray(t.subpath))return!1;if("string"==typeof t.path||t.path instanceof String)t.path=u.getPathIterators({path:t.path});else if(null===t.path||"object"!=typeof t.path||Array.isArray(t.path))return!1;if(t.sameSizeCheck&&Object.keys(t.subpath).length!==Object.keys(t.path).length)return!1;for(let r in t.subpath)if("__iterator__"===t.path[r]);else if(t.subpath[r]!==t.path[r])return!1;return!0}static getComposite(t,r){if(void 0===r&&(t=o({},{default:void 0},{},t),(r={}).level=-1,r.cursor="",r.pathItrSign=u.getPathIterators({path:t.path}),r.result=[]),null===t.in||"object"!=typeof t.in||Array.isArray(t.in)){if(Array.isArray(t.in)){r.level+=1;for(let e=0;e<t.in.length;e++){r.cursor=`${r.cursor}[${e}]`;let n=u.getPathIterators({path:r.cursor});u.isSubPath({subpath:n,path:r.pathItrSign})&&(u.isSubPath({subpath:n,path:r.pathItrSign,sameSizeCheck:!0})&&r.result.push(t.in[e]),u.getComposite({in:t.in[e]},r)),r.cursor=u.removePathLevels(r.cursor)}r.level-=1}}else"."===r.cursor.charAt(0)&&(r.cursor=r.cursor.replace(".","")),r.level+=1,Object.entries(t.in).forEach(([t,e])=>{r.cursor=`${r.cursor}.${t}`;let n=u.getPathIterators({path:r.cursor});u.isSubPath({subpath:n,path:r.pathItrSign})&&(u.isSubPath({subpath:n,path:r.pathItrSign,sameSizeCheck:!0})&&r.result.push(e),(null!==e&&"object"==typeof e&&!Array.isArray(e)&&Object.keys(e).length>0||Array.isArray(e)&&e.length>0)&&u.getComposite({in:e},r)),r.cursor=u.removePathLevels(r.cursor)}),r.level-=1;if(-1===r.level)return 0===r.result.length?t.default:1===r.result.length?r.result[0]:r.result}}t.exports&&(t.exports=u)},function(t,r){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,r){t.exports=function(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}},function(t,r,e){var n=e(17);t.exports=function(t,r,e){var a=null==t?void 0:n(t,r);return void 0===a?e:a}},function(t,r,e){var n=e(9),a=e(12);t.exports=function(t,r){for(var e=0,o=(r=n(r,t)).length;null!=t&&e<o;)t=t[a(r[e++])];return e&&e==o?t:void 0}},function(t,r,e){var n=e(3),a=e(4),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(t,r){if(n(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!a(t))||i.test(t)||!o.test(t)||null!=r&&t in Object(r)}},function(t,r,e){(function(r){var e="object"==typeof r&&r&&r.Object===Object&&r;t.exports=e}).call(this,e(20))},function(t,r){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,r,e){var n=e(5),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var r=o.call(t,s),e=t[s];try{t[s]=void 0;var n=!0}catch(t){}var a=i.call(t);return n&&(r?t[s]=e:delete t[s]),a}},function(t,r){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},function(t,r){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,r,e){var n=e(25),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n(function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(a,function(t,e,n,a){r.push(n?a.replace(o,"$1"):e||t)}),r});t.exports=i},function(t,r,e){var n=e(26);t.exports=function(t){var r=n(t,function(t){return 500===e.size&&e.clear(),t}),e=r.cache;return r}},function(t,r,e){var n=e(27),a="Expected a function";function o(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError(a);var e=function(){var n=arguments,a=r?r.apply(this,n):n[0],o=e.cache;if(o.has(a))return o.get(a);var i=t.apply(this,n);return e.cache=o.set(a,i)||o,i};return e.cache=new(o.Cache||n),e}o.Cache=n,t.exports=o},function(t,r,e){var n=e(28),a=e(48),o=e(50),i=e(51),s=e(52);function u(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=i,u.prototype.set=s,t.exports=u},function(t,r,e){var n=e(29),a=e(41),o=e(47);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||a),string:new n}}},function(t,r,e){var n=e(30),a=e(37),o=e(38),i=e(39),s=e(40);function u(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=i,u.prototype.set=s,t.exports=u},function(t,r,e){var n=e(0);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,r,e){var n=e(32),a=e(33),o=e(8),i=e(35),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,p=u.toString,l=c.hasOwnProperty,h=RegExp("^"+p.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||a(t))&&(n(t)?h:s).test(i(t))}},function(t,r,e){var n=e(10),a=e(8);t.exports=function(t){if(!a(t))return!1;var r=n(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}},function(t,r,e){var n,a=e(34),o=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},function(t,r,e){var n=e(6)["__core-js_shared__"];t.exports=n},function(t,r){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,r){t.exports=function(t,r){return null==t?void 0:t[r]}},function(t,r){t.exports=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}},function(t,r,e){var n=e(0),a=Object.prototype.hasOwnProperty;t.exports=function(t){var r=this.__data__;if(n){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return a.call(r,t)?r[t]:void 0}},function(t,r,e){var n=e(0),a=Object.prototype.hasOwnProperty;t.exports=function(t){var r=this.__data__;return n?void 0!==r[t]:a.call(r,t)}},function(t,r,e){var n=e(0);t.exports=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=n&&void 0===r?"__lodash_hash_undefined__":r,this}},function(t,r,e){var n=e(42),a=e(43),o=e(44),i=e(45),s=e(46);function u(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=i,u.prototype.set=s,t.exports=u},function(t,r){t.exports=function(){this.__data__=[],this.size=0}},function(t,r,e){var n=e(1),a=Array.prototype.splice;t.exports=function(t){var r=this.__data__,e=n(r,t);return!(e<0||(e==r.length-1?r.pop():a.call(r,e,1),--this.size,0))}},function(t,r,e){var n=e(1);t.exports=function(t){var r=this.__data__,e=n(r,t);return e<0?void 0:r[e][1]}},function(t,r,e){var n=e(1);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,r,e){var n=e(1);t.exports=function(t,r){var e=this.__data__,a=n(e,t);return a<0?(++this.size,e.push([t,r])):e[a][1]=r,this}},function(t,r,e){var n=e(7)(e(6),"Map");t.exports=n},function(t,r,e){var n=e(2);t.exports=function(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}},function(t,r){t.exports=function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t}},function(t,r,e){var n=e(2);t.exports=function(t){return n(this,t).get(t)}},function(t,r,e){var n=e(2);t.exports=function(t){return n(this,t).has(t)}},function(t,r,e){var n=e(2);t.exports=function(t,r){var e=n(this,t),a=e.size;return e.set(t,r),this.size+=e.size==a?0:1,this}},function(t,r,e){var n=e(54);t.exports=function(t){return null==t?"":n(t)}},function(t,r,e){var n=e(5),a=e(55),o=e(3),i=e(4),s=n?n.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(r){if("string"==typeof r)return r;if(o(r))return a(r,t)+"";if(i(r))return u?u.call(r):"";var e=r+"";return"0"==e&&1/r==-1/0?"-0":e}},function(t,r){t.exports=function(t,r){for(var e=-1,n=null==t?0:t.length,a=Array(n);++e<n;)a[e]=r(t[e],e,t);return a}},function(t,r,e){var n=e(57);t.exports=function(t,r,e){return null==t?t:n(t,r,e)}},function(t,r,e){var n=e(58),a=e(9),o=e(61),i=e(8),s=e(12);t.exports=function(t,r,e,u){if(!i(t))return t;for(var c=-1,p=(r=a(r,t)).length,l=p-1,h=t;null!=h&&++c<p;){var f=s(r[c]),g=e;if(c!=l){var y=h[f];void 0===(g=u?u(y,f,h):void 0)&&(g=i(y)?y:o(r[c+1])?[]:{})}n(h,f,g),h=h[f]}return t}},function(t,r,e){var n=e(59),a=e(11),o=Object.prototype.hasOwnProperty;t.exports=function(t,r,e){var i=t[r];o.call(t,r)&&a(i,e)&&(void 0!==e||r in t)||n(t,r,e)}},function(t,r,e){var n=e(60);t.exports=function(t,r,e){"__proto__"==r&&n?n(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e}},function(t,r,e){var n=e(7),a=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=a},function(t,r){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}}])});
//# sourceMappingURL=path.Helper.min.js.map